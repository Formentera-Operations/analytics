# oda / accounts_payable / ODA_APINVOICEDETAIL
# Source: context/sources/oda/domains/accounts_payable.yaml
# 33 columns, 6,813,538 rows. AP invoice line items.
# Maps to stg_oda__apinvoicedetail.
#
ODA_APINVOICEDETAIL: Accounts payable invoice line items. Each row is a single cost allocation line on an AP invoice, with well/AFE assignment, net and gross values, and expense deck references. High-volume CDC table.

  # -- Identifiers --
  ID(txt) #Estuary CDC primary key (composite key hash)
  APINVOICEDETAILIDENTITY(int) #ODA internal sequence identity for the detail line
  INVOICEID(txt) #Parent AP invoice ID (FK to ODA_APINVOICE.ID)
  COMPANYID(txt) #Operating company ID (FK to ODA_COMPANY)
  VENDORID(txt) #Vendor ID (FK to ODA_VENDOR)
  ACCOUNTID(txt) #GL account ID for the expense (FK to ODA_ACCOUNT)
  DISTRIBUTIONCOMPANYID(txt) #Distribution company ID (entity receiving the cost)
  WELLID(txt) #Well ID the cost is allocated to (FK to ODA_WELL)
  AFEID(txt) #AFE ID the cost is charged to (FK to ODA_AFE)
  SERIAL(int) #Line item serial/sequence number within the invoice

  # -- Expense Deck --
  EXPENSEDECKID(txt) #Expense deck ID (cost allocation deck)
  EXPENSEDECKINTEREST(float) #Interest percentage from the expense deck
  EXPENSEDECKREVISIONID(txt) #Expense deck revision ID (specific version)
  EXPENSEDECKSETID(txt) #Expense deck set ID (group of related decks)

  # -- Financial --
  GROSS88THSVALUE(float) #Gross value in 88ths (industry standard fractional interest unit)
  GROSS88THSVOLUME(float) #Gross volume in 88ths
  NETVALUE(float) #Net dollar value of the line item
  NETVOLUME(float) #Net volume for the line item
  DESCRIPTION(txt) #Line item description

  # -- Allocation --
  ALLOCATIONPARENTID(txt) #Parent allocation line ID (if auto-allocated from a parent)
  ISALLOCATIONGENERATED(bool) #True if this line was auto-generated by well allocation
  ISALLOCATIONPARENT(bool) #True if this is the parent line that generates allocations
  SOURCEWELLALLOCATIONDECKREVISIONID(txt) #Well allocation deck revision used for auto-allocation
  WELLALLOCATIONDECKID(txt) #Well allocation deck ID used for cost spreading

  # -- Flags --
  CURRENCYFLUCTUATIONPASSTHROUGH(bool) #True if currency fluctuation is passed through to this line

  # -- Dates --
  TRANSACTIONDATE(ts) #Transaction date for the line item

  # -- Audit/Metadata --
  CREATEDATE(ts) #Record creation timestamp (ODA)
  UPDATEDATE(ts) #Record last update timestamp (ODA)
  RECORDINSERTDATE(ts) #Estuary CDC insert timestamp
  RECORDUPDATEDATE(ts) #Estuary CDC update timestamp
  _meta/op(txt) #Estuary CDC operation type (c=create, u=update, d=delete)
  FLOW_PUBLISHED_AT(ts) #Estuary Flow publication timestamp
  FLOW_DOCUMENT(variant) #Full CDC document as JSON
