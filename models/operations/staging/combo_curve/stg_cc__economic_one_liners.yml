version: 2

models:
  - name: stg_cc__economic_one_liners
    description: Cleaned and standardized version of economic one-liners data from Combo Curve, with parsed economic metrics from the JSON output
    
    columns:
      - name: economic_one_liner_id
        description: Unique identifier for the economic one-liner record
        tests:
          - unique
          - not_null

      - name: economic_run_id
        description: Identifier for the economic run
        tests:
          - not_null

      - name: project_id
        description: Identifier for the project
        tests:
          - not_null

      - name: scenario_id
        description: Identifier for the scenario
        tests:
          - not_null

      - name: well_id
        description: Identifier for the well

      - name: combo_name
        description: Name of the economic scenario combination

      - name: economic_group
        description: Group identifier for the economic analysis

      - name: prms_reserves_category
        description: Petroleum Resources Management System (PRMS) reserves category

      - name: prms_reserves_subcategory
        description: PRMS reserves sub-category

      - name: prms_resources_class
        description: PRMS resources classification

      # Economic Metrics
      - name: after_tax_npv_10
        description: Net Present Value at 10% discount rate, after tax

      - name: before_tax_npv_10
        description: Net Present Value at 10% discount rate, before tax

      - name: breakeven_oil_price
        description: Oil price at which the project breaks even (before tax)

      - name: breakeven_oil_price_after_tax
        description: Oil price at which the project breaks even (after tax)

      - name: capex
        description: Capital expenditure for the project

      # Production Volumes
      - name: cumulative_oil
        description: Cumulative oil production

      - name: cumulative_gas
        description: Cumulative gas production

      - name: cumulative_boe
        description: Cumulative barrels of oil equivalent production

      - name: cumulative_mcfe
        description: Cumulative thousand cubic feet equivalent production

      - name: cumulative_ngl
        description: Cumulative natural gas liquids production

      # Estimated Ultimate Recovery (EUR)
      - name: eur_oil
        description: Estimated ultimate recovery for oil

      - name: eur_gas
        description: Estimated ultimate recovery for gas

      - name: eur_boe
        description: Estimated ultimate recovery in barrels of oil equivalent

      - name: eur_mcfe
        description: Estimated ultimate recovery in thousand cubic feet equivalent

      - name: eur_ngl
        description: Estimated ultimate recovery for natural gas liquids

      # Other Metrics
      - name: first_production_date
        description: Date of first production

      - name: gross_wells_count
        description: Number of gross wells

      - name: irr
        description: Internal Rate of Return (before tax)

      - name: irr_after_tax
        description: Internal Rate of Return (after tax)

      - name: net_wells_count
        description: Number of net wells

      - name: payout_months
        description: Number of months to payout (before tax)

      - name: payout_months_after_tax
        description: Number of months to payout (after tax)

      - name: total_expense
        description: Total expenses

      - name: total_revenue
        description: Total revenue

      - name: working_interest_wells_count
        description: Number of working interest wells

      - name: chosen_id
        description: Chosen identifier for the entity

      - name: basin
        description: Geological basin where the well or project is located

      - name: operating_category
        description: Operating category classification

      - name: shrunk_gas_btu
        description: BTU content of shrunk gas

      - name: company_name
        description: >
          Standardized company name. If the company name doesn't match any of the mappings,
          it falls back to using the basin name. Mappings:
          - 'FP Meramec': From 'Meramec'
          - 'FP Goldsmith (Saddleback)': From 'Saddleback', 'FP_GOLDSMITH-SBE'
          - 'FP Goldsmith (SLANT)': From 'FP_GOLDSMITH-SLANT', 'Slant'
          - 'FP Green': From 'Green'
          - 'FP Lakefork': From 'Lake Fork'
          - 'FP Overlook': From 'Overlook'
          - 'FP Rio Grande': From 'Rio Grande'
          - 'FP Balboa LA': From 'Balboa LA'
          - 'FP Balboa MS': From 'Balboa MS'
          - 'FP Balboa ND': From 'Balboa ND'
          - 'FP Divide': From 'Divide'
          - 'FP Kingfisher': From 'Kingfisher', 'FP_KINGFISHER'
          - 'FP Maverick': From 'Maverick', 'FP_MAVERICK'
          - 'FP Wheeler': From 'Wheeler'
          - 'Snyder Drillco': From 'Snyder'
          - 'FP Pronghorn': From 'FP_PRONGHORN'
          - 'FP Drake': From 'FP_DRAKE'
        tests:
          - accepted_values:
              values: ['FP Meramec', 'FP Goldsmith (Saddleback)', 'FP Goldsmith (SLANT)', 
                      'FP Green', 'FP Lakefork', 'FP Overlook', 'FP Rio Grande', 
                      'FP Balboa LA', 'FP Balboa MS', 'FP Balboa ND', 'FP Divide',
                      'FP Kingfisher', 'FP Maverick', 'FP Wheeler', 'Snyder Drillco',
                      'FP Pronghorn', 'FP Drake']
              quote: true

      - name: net_operating_income
        description: Net operating income

      - name: before_income_tax_cash_flow
        description: Cash flow before income tax

      - name: reserves_category
        description: >
          Standardized category classification for reserves. Mappings:
          - '1PDP': Includes '01PDP', '1PDP', '1PDP_COST', '1PDP_NEW', '1PDP_PLANT', '1PDP_SOLD', '1PDP_WO'
          - '2WIP': From '2WIP'
          - '3PDNP': From '3PDSI'
          - '4PUD': Includes '3PUD', '4PUD', '4PUD_HZ', '4PUD_RC', '4PUD_VT'
        tests:
          - accepted_values:
              values: ['1PDP', '2WIP', '3PDNP', '4PUD']
              quote: true

      # Reference Values
      - name: reference_after_tax_npv_10
        description: Reference case Net Present Value at 10% discount rate, after tax

      - name: reference_before_tax_npv_10
        description: Reference case Net Present Value at 10% discount rate, before tax

      - name: reference_breakeven_oil_price
        description: Reference case oil price at which the project breaks even (before tax)

      - name: reference_breakeven_oil_price_after_tax
        description: Reference case oil price at which the project breaks even (after tax)

      - name: reference_capex
        description: Reference case capital expenditure

      - name: reference_cumulative_oil
        description: Reference case cumulative oil production

      - name: reference_cumulative_gas
        description: Reference case cumulative gas production

      - name: reference_cumulative_boe
        description: Reference case cumulative barrels of oil equivalent production

      - name: reference_cumulative_mcfe
        description: Reference case cumulative thousand cubic feet equivalent production

      - name: reference_cumulative_ngl
        description: Reference case cumulative natural gas liquids production

      - name: reference_eur_oil
        description: Reference case estimated ultimate recovery for oil

      - name: reference_eur_gas
        description: Reference case estimated ultimate recovery for gas

      - name: reference_eur_boe
        description: Reference case estimated ultimate recovery in barrels of oil equivalent

      - name: reference_eur_mcfe
        description: Reference case estimated ultimate recovery in thousand cubic feet equivalent

      - name: reference_eur_ngl
        description: Reference case estimated ultimate recovery for natural gas liquids

      - name: reference_irr
        description: Reference case Internal Rate of Return (before tax)

      - name: reference_irr_after_tax
        description: Reference case Internal Rate of Return (after tax)

      - name: reference_payout_months
        description: Reference case number of months to payout (before tax)

      - name: reference_payout_months_after_tax
        description: Reference case number of months to payout (after tax)

      - name: reference_total_expense
        description: Reference case total expenses

      - name: reference_total_revenue
        description: Reference case total revenue

      - name: economic_output_raw
        description: Raw JSON variant containing all economic output data (kept for debugging or future parsing)

      - name: portable_extracted
        description: Timestamp indicating when the record was extracted