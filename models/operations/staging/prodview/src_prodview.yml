version: 2

sources:
  - name: prodview
    database: PELOTON_FORMENTERAOPS_FORMENTERAOPS_PV30
    schema: FORMENTERAOPS_PV30_DBO
    tables:
      - name: PVT_PVUNIT
      - name: PVT_PVROUTESETROUTE
      - name: PVT_PVROUTESETROUTEUSERID
      - name: PVT_PVUNITCOMP
      - name: PVT_PVSYSINTEGRATION
      - name: PVT_PVFLOWNETHEADER
      - name: PVT_PVUNITALLOCMONTH
      - name: PVT_PVUNITALLOCMONTHDAY
      - name: PVT_PVUNITDISPMONTH
      - name: PVT_PVUNITDISPMONTHDAY
      - name: PVT_PVUNITNODE
      - name: PVT_PVUNITCOMPDOWNTM
      - name: PVT_PVUNITCOMPPARAM
      - name: PVT_PVUNITCOMPSTATUS
      - name: PVT_PVUNITCOMPTEST
      - name: PVT_PVUNITNODEMONTHDAYCALC
      - name: PVT_PVUNITMETERLIQUID
      - name: PVT_PVUNITMETERLIQUIDENTRY
      - name: PVT_PVUNITREMARK
      - name: PVT_PVUNITTANKMONTHDAYCALC
      - name: PVT_PVUNITTANKMONTHCALC
      - name: PVT_PVUNITCOMPGATHMONTHDAYCALC
      - name: PVT_PVUNITCOMPPUMPPLUNGER
      - name: PVT_PVUNITCOMPPUMPPLUNGERENTRY
      - name: PVT_PVUNITCOMPTARGET
      - name: PVT_PVUNITCOMPTARGETDAY
      - name: PVT_PVUNITCOMPTESTREQEXCALC
      - name: PVT_PVUNITMEASPT
      - name: PVT_PVUNITMEASPTENTRY
      - name: PVT_PVUNITTANK 
      - name: PVT_PVUNITTANKENTRY
      - name: PVT_PVOPENSTATEUNIT
      - name: PVT_PVUNITMETERORIFICE
      - name: PVT_PVUNITMETERORIFICEENTRY
      - name: PVT_PVFACRECDISPCALC
      - name: PVT_PVUNITNODECORRDAY
      - name: PVT_PVUNITNODECORR
      - name: PVT_PVFACILITYMONTHDAYCALC
      - name: PVT_PVFACILITYMONTHCALC
      - name: PVT_PVUNITNODEMONTHCALC
      - name: PVT_PVTICKET
      - name: PVT_PVUNITMETERPDGAS
      - name: PVT_PVUNITMETERPDGASENTRY
      - name: PVT_PVUNITREGBODYKEY
      - name: PVT_PVUNITTANKSTRAP
      - name: PVT_PVUNITTANKSTRAPDATA
      - name: PVT_PVUNITTANKSTARTINV
      - name: PVT_PVUNITNODEFLOWTO
      - name: PVT_PVUNITAGREEMT
      - name: PVT_PVUNITAGREEMTPARTNER
      - name: PVT_PVUNITCOMPFLUIDLEVEL
      - name: PVT_PVUNITCOMPPUMP
        description: >
          Artificial lift / pump installation records. Primary entity table (not an extension).
          Contains equipment details (make, model, serial number), install/removal dates,
          and power rating. Parent of PVT_PVUNITCOMPPUMPROD (rod pump configs).
          Links up to completion records via IDRECPARENT.
        columns:
          - name: IDREC
            description: Unique record ID (PK)
          - name: IDRECPARENT
            description: FK to parent completion record
          - name: IDFLOWNET
            description: Well/flownet identifier
          - name: NAME
            description: Pump name (e.g. "Gas Lift", "Plunger Lift")
          - name: TYP
            description: Pump type classification
          - name: POWERRATING
            description: Power rating stored in watts. Convert to HP via / 745.6999
          - name: DTTMSTART
            description: Install date
          - name: DTTMEND
            description: Removal date (null if currently installed)
      - name: PVT_PVUNITCOMPPUMPROD
        description: >
          Rod pump configuration records. Parent table containing static pump specs
          (pump diameter). Links up to completion records via IDRECPARENT and down
          to daily operational entries in PVT_PVUNITCOMPPUMPRODENTRY.
        columns:
          - name: IDREC
            description: Unique record ID (PK)
          - name: IDRECPARENT
            description: FK to parent completion record
          - name: IDFLOWNET
            description: Well/flownet identifier
          - name: PUMPDIAMETER
            description: Pump bore diameter stored in meters. Convert to inches via / 0.0254

      - name: PVT_PVUNITCOMPPUMPRODENTRY
        description: >
          Rod pump daily operational entries. Child table of PVT_PVUNITCOMPPUMPROD.
          Contains daily measurements including SPM, stroke length, run time %,
          and calculated volume per day. Ordered by DTTM.
          Note: ~14% of records are "Seed Record" placeholders with null operational data.
        columns:
          - name: IDREC
            description: Unique record ID (PK)
          - name: IDRECPARENT
            description: FK to parent pump config record (PVT_PVUNITCOMPPUMPROD.IDREC)
          - name: IDFLOWNET
            description: Well/flownet identifier
          - name: DTTM
            description: Observation date
          - name: SPM
            description: Strokes per minute. No unit conversion needed.
          - name: STROKELENGTH
            description: Stroke length stored in meters. Convert to inches via / 0.0254
          - name: USERNUM1
            description: Run Time (%) stored as decimal. Convert to percentage via / 0.01
          - name: VOLPERDAYCALC
            description: Calculated volume per day stored in cubic meters. Convert to BBL/DAY via / 0.1589873
          - name: COM
            description: Comments / free text
          - name: USERTXT1
            description: Crank position (e.g. "2 of 4"). Formentera-specific usage.
          - name: USERTXT2
            description: Crank rotation direction (CW/CCW). Formentera-specific usage.


